{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ODOO\\\\Documents\\\\ODOO 19\\\\modbus_gateway\\\\frontend\\\\src\\\\components\\\\PMParamsEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:8000/api';\nfunction PMParamsEditor({\n  deviceName,\n  currentParams,\n  onSave,\n  onCancel\n}) {\n  _s();\n  const [params, setParams] = useState([]);\n  useEffect(() => {\n    if (currentParams) {\n      setParams(currentParams);\n    } else {\n      axios.get(`${API}/pm-defaults`).then(res => setParams(res.data.params));\n    }\n  }, [currentParams]);\n  const updateParam = (index, field, value) => {\n    const newParams = [...params];\n    newParams[index] = field === 'name' ? [value, newParams[index][1]] : [newParams[index][0], parseInt(value)];\n    setParams(newParams);\n  };\n  const input = {\n    padding: '6px',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    width: '100%'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        padding: '20px',\n        borderRadius: '8px',\n        maxWidth: '600px',\n        maxHeight: '80vh',\n        overflow: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Configure PM Parameters for \", deviceName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '16px'\n        },\n        children: params.map((p, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '2fr 1fr',\n            gap: '8px',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: input,\n            value: p[0],\n            onChange: e => updateParam(i, 'name', e.target.value),\n            placeholder: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: input,\n            type: \"number\",\n            value: p[1],\n            onChange: e => updateParam(i, 'addr', e.target.value),\n            placeholder: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onSave(params),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#3b82f6',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            marginRight: '8px'\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          style: {\n            padding: '8px 16px',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_s(PMParamsEditor, \"yASsXkxTTUGiOby+PNImvld5zvE=\");\n_c = PMParamsEditor;\nexport default PMParamsEditor;\nvar _c;\n$RefreshReg$(_c, \"PMParamsEditor\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","API","PMParamsEditor","deviceName","currentParams","onSave","onCancel","_s","params","setParams","get","then","res","data","updateParam","index","field","value","newParams","parseInt","input","padding","border","borderRadius","width","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","children","maxWidth","maxHeight","overflow","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","map","p","i","gridTemplateColumns","gap","onChange","e","target","placeholder","type","onClick","color","cursor","marginRight","_c","$RefreshReg$"],"sources":["C:/Users/ODOO/Documents/ODOO 19/modbus_gateway/frontend/src/components/PMParamsEditor.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst API = 'http://localhost:8000/api';\n\nfunction PMParamsEditor({ deviceName, currentParams, onSave, onCancel }) {\n  const [params, setParams] = useState([]);\n  \n  useEffect(() => {\n    if (currentParams) {\n      setParams(currentParams);\n    } else {\n      axios.get(`${API}/pm-defaults`).then(res => setParams(res.data.params));\n    }\n  }, [currentParams]);\n\n  const updateParam = (index, field, value) => {\n    const newParams = [...params];\n    newParams[index] = field === 'name' \n      ? [value, newParams[index][1]] \n      : [newParams[index][0], parseInt(value)];\n    setParams(newParams);\n  };\n\n  const input = { padding: '6px', border: '1px solid #ddd', borderRadius: '4px', width: '100%' };\n\n  return (\n    <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000 }}>\n      <div style={{ backgroundColor: 'white', padding: '20px', borderRadius: '8px', maxWidth: '600px', maxHeight: '80vh', overflow: 'auto' }}>\n        <h3>Configure PM Parameters for {deviceName}</h3>\n        <div style={{ marginBottom: '16px' }}>\n          {params.map((p, i) => (\n            <div key={i} style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '8px', marginBottom: '8px' }}>\n              <input style={input} value={p[0]} onChange={e => updateParam(i, 'name', e.target.value)} placeholder=\"Name\" />\n              <input style={input} type=\"number\" value={p[1]} onChange={e => updateParam(i, 'addr', e.target.value)} placeholder=\"Address\" />\n            </div>\n          ))}\n        </div>\n        <div>\n          <button onClick={() => onSave(params)} style={{ padding: '8px 16px', backgroundColor: '#3b82f6', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', marginRight: '8px' }}>Save</button>\n          <button onClick={onCancel} style={{ padding: '8px 16px', border: '1px solid #ddd', borderRadius: '4px', cursor: 'pointer' }}>Cancel</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PMParamsEditor;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,GAAG,GAAG,2BAA2B;AAEvC,SAASC,cAAcA,CAAC;EAAEC,UAAU;EAAEC,aAAa;EAAEC,MAAM;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACvE,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,IAAIO,aAAa,EAAE;MACjBK,SAAS,CAACL,aAAa,CAAC;IAC1B,CAAC,MAAM;MACLN,KAAK,CAACY,GAAG,CAAC,GAAGT,GAAG,cAAc,CAAC,CAACU,IAAI,CAACC,GAAG,IAAIH,SAAS,CAACG,GAAG,CAACC,IAAI,CAACL,MAAM,CAAC,CAAC;IACzE;EACF,CAAC,EAAE,CAACJ,aAAa,CAAC,CAAC;EAEnB,MAAMU,WAAW,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAK;IAC3C,MAAMC,SAAS,GAAG,CAAC,GAAGV,MAAM,CAAC;IAC7BU,SAAS,CAACH,KAAK,CAAC,GAAGC,KAAK,KAAK,MAAM,GAC/B,CAACC,KAAK,EAAEC,SAAS,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAC5B,CAACG,SAAS,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC,EAAEI,QAAQ,CAACF,KAAK,CAAC,CAAC;IAC1CR,SAAS,CAACS,SAAS,CAAC;EACtB,CAAC;EAED,MAAME,KAAK,GAAG;IAAEC,OAAO,EAAE,KAAK;IAAEC,MAAM,EAAE,gBAAgB;IAAEC,YAAY,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAO,CAAC;EAE9F,oBACExB,OAAA;IAAKyB,KAAK,EAAE;MAAEC,QAAQ,EAAE,OAAO;MAAEC,GAAG,EAAE,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE,CAAC;MAAEC,eAAe,EAAE,iBAAiB;MAAEC,OAAO,EAAE,MAAM;MAAEC,UAAU,EAAE,QAAQ;MAAEC,cAAc,EAAE,QAAQ;MAAEC,MAAM,EAAE;IAAK,CAAE;IAAAC,QAAA,eACzLpC,OAAA;MAAKyB,KAAK,EAAE;QAAEM,eAAe,EAAE,OAAO;QAAEV,OAAO,EAAE,MAAM;QAAEE,YAAY,EAAE,KAAK;QAAEc,QAAQ,EAAE,OAAO;QAAEC,SAAS,EAAE,MAAM;QAAEC,QAAQ,EAAE;MAAO,CAAE;MAAAH,QAAA,gBACrIpC,OAAA;QAAAoC,QAAA,GAAI,8BAA4B,EAACjC,UAAU;MAAA;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACjD3C,OAAA;QAAKyB,KAAK,EAAE;UAAEmB,YAAY,EAAE;QAAO,CAAE;QAAAR,QAAA,EAClC5B,MAAM,CAACqC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBACf/C,OAAA;UAAayB,KAAK,EAAE;YAAEO,OAAO,EAAE,MAAM;YAAEgB,mBAAmB,EAAE,SAAS;YAAEC,GAAG,EAAE,KAAK;YAAEL,YAAY,EAAE;UAAM,CAAE;UAAAR,QAAA,gBACvGpC,OAAA;YAAOyB,KAAK,EAAEL,KAAM;YAACH,KAAK,EAAE6B,CAAC,CAAC,CAAC,CAAE;YAACI,QAAQ,EAAEC,CAAC,IAAIrC,WAAW,CAACiC,CAAC,EAAE,MAAM,EAAEI,CAAC,CAACC,MAAM,CAACnC,KAAK,CAAE;YAACoC,WAAW,EAAC;UAAM;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC9G3C,OAAA;YAAOyB,KAAK,EAAEL,KAAM;YAACkC,IAAI,EAAC,QAAQ;YAACrC,KAAK,EAAE6B,CAAC,CAAC,CAAC,CAAE;YAACI,QAAQ,EAAEC,CAAC,IAAIrC,WAAW,CAACiC,CAAC,EAAE,MAAM,EAAEI,CAAC,CAACC,MAAM,CAACnC,KAAK,CAAE;YAACoC,WAAW,EAAC;UAAS;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA,GAFvHI,CAAC;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAGN,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN3C,OAAA;QAAAoC,QAAA,gBACEpC,OAAA;UAAQuD,OAAO,EAAEA,CAAA,KAAMlD,MAAM,CAACG,MAAM,CAAE;UAACiB,KAAK,EAAE;YAAEJ,OAAO,EAAE,UAAU;YAAEU,eAAe,EAAE,SAAS;YAAEyB,KAAK,EAAE,OAAO;YAAElC,MAAM,EAAE,MAAM;YAAEC,YAAY,EAAE,KAAK;YAAEkC,MAAM,EAAE,SAAS;YAAEC,WAAW,EAAE;UAAM,CAAE;UAAAtB,QAAA,EAAC;QAAI;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC5M3C,OAAA;UAAQuD,OAAO,EAAEjD,QAAS;UAACmB,KAAK,EAAE;YAAEJ,OAAO,EAAE,UAAU;YAAEC,MAAM,EAAE,gBAAgB;YAAEC,YAAY,EAAE,KAAK;YAAEkC,MAAM,EAAE;UAAU,CAAE;UAAArB,QAAA,EAAC;QAAM;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACpC,EAAA,CAxCQL,cAAc;AAAAyD,EAAA,GAAdzD,cAAc;AA0CvB,eAAeA,cAAc;AAAC,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}