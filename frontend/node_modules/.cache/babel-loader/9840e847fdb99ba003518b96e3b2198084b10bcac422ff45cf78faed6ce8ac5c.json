{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API='http://localhost:8000/api';function PMParamsEditor(_ref){let{deviceName,currentParams,onSave,onCancel}=_ref;const[params,setParams]=useState([]);useEffect(()=>{if(currentParams){setParams(currentParams);}else{axios.get(\"\".concat(API,\"/pm-defaults\")).then(res=>setParams(res.data.params));}},[currentParams]);const updateParam=(index,field,value)=>{const newParams=[...params];newParams[index]=field==='name'?[value,newParams[index][1]]:[newParams[index][0],parseInt(value)];setParams(newParams);};const input={padding:'6px',border:'1px solid #ddd',borderRadius:'4px',width:'100%'};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',padding:'20px',borderRadius:'8px',maxWidth:'600px',maxHeight:'80vh',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Configure PM Parameters for \",deviceName]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'16px'},children:params.map((p,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr',gap:'8px',marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"input\",{style:input,value:p[0],onChange:e=>updateParam(i,'name',e.target.value),placeholder:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{style:input,type:\"number\",value:p[1],onChange:e=>updateParam(i,'addr',e.target.value),placeholder:\"Address\"})]},i))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onSave(params),style:{padding:'8px 16px',backgroundColor:'#3b82f6',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',marginRight:'8px'},children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,style:{padding:'8px 16px',border:'1px solid #ddd',borderRadius:'4px',cursor:'pointer'},children:\"Cancel\"})]})]})});}export default PMParamsEditor;","map":{"version":3,"names":["React","useState","useEffect","axios","jsxs","_jsxs","jsx","_jsx","API","PMParamsEditor","_ref","deviceName","currentParams","onSave","onCancel","params","setParams","get","concat","then","res","data","updateParam","index","field","value","newParams","parseInt","input","padding","border","borderRadius","width","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","children","maxWidth","maxHeight","overflow","marginBottom","map","p","i","gridTemplateColumns","gap","onChange","e","target","placeholder","type","onClick","color","cursor","marginRight"],"sources":["C:/Users/ODOO/Documents/ODOO 19/modbus_gateway/frontend/src/components/PMParamsEditor.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst API = 'http://localhost:8000/api';\n\nfunction PMParamsEditor({ deviceName, currentParams, onSave, onCancel }) {\n  const [params, setParams] = useState([]);\n  \n  useEffect(() => {\n    if (currentParams) {\n      setParams(currentParams);\n    } else {\n      axios.get(`${API}/pm-defaults`).then(res => setParams(res.data.params));\n    }\n  }, [currentParams]);\n\n  const updateParam = (index, field, value) => {\n    const newParams = [...params];\n    newParams[index] = field === 'name' \n      ? [value, newParams[index][1]] \n      : [newParams[index][0], parseInt(value)];\n    setParams(newParams);\n  };\n\n  const input = { padding: '6px', border: '1px solid #ddd', borderRadius: '4px', width: '100%' };\n\n  return (\n    <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000 }}>\n      <div style={{ backgroundColor: 'white', padding: '20px', borderRadius: '8px', maxWidth: '600px', maxHeight: '80vh', overflow: 'auto' }}>\n        <h3>Configure PM Parameters for {deviceName}</h3>\n        <div style={{ marginBottom: '16px' }}>\n          {params.map((p, i) => (\n            <div key={i} style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '8px', marginBottom: '8px' }}>\n              <input style={input} value={p[0]} onChange={e => updateParam(i, 'name', e.target.value)} placeholder=\"Name\" />\n              <input style={input} type=\"number\" value={p[1]} onChange={e => updateParam(i, 'addr', e.target.value)} placeholder=\"Address\" />\n            </div>\n          ))}\n        </div>\n        <div>\n          <button onClick={() => onSave(params)} style={{ padding: '8px 16px', backgroundColor: '#3b82f6', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', marginRight: '8px' }}>Save</button>\n          <button onClick={onCancel} style={{ padding: '8px 16px', border: '1px solid #ddd', borderRadius: '4px', cursor: 'pointer' }}>Cancel</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PMParamsEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}