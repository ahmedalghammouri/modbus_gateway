{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ODOO\\\\Documents\\\\ODOO 19\\\\modbus_gateway\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport DeviceCard from './DeviceCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [data, setData] = useState({});\n  const [connected, setConnected] = useState(false);\n  useEffect(() => {\n    const ws = new WebSocket(`ws://${window.location.hostname}:8000/api/ws`);\n    ws.onopen = () => setConnected(true);\n    ws.onclose = () => setConnected(false);\n    ws.onmessage = e => setData(JSON.parse(e.data));\n    return () => ws.close();\n  }, []);\n  const devices = Object.entries(data);\n  const online = devices.filter(([_, d]) => d.status === 'online').length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '1rem',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0,\n          fontSize: '1.5rem'\n        },\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          padding: '0.3rem 0.6rem',\n          borderRadius: '12px',\n          fontSize: '0.8rem',\n          background: connected ? '#10b981' : '#ef4444',\n          color: 'white'\n        },\n        children: connected ? '● Connected' : '● Disconnected'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 'auto',\n          color: '#94a3b8'\n        },\n        children: [\"Total: \", devices.length, \" | Online: \", online, \" | Offline: \", devices.length - online]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\n        gap: '1rem'\n      },\n      children: devices.map(([name, d]) => /*#__PURE__*/_jsxDEV(DeviceCard, {\n        name: name,\n        data: d\n      }, name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 37\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), devices.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#94a3b8',\n        textAlign: 'center'\n      },\n      children: \"No devices configured\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"TUQqxGqT3kQ80CuAmX3EcqhlolU=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","DeviceCard","jsxDEV","_jsxDEV","Dashboard","_s","data","setData","connected","setConnected","ws","WebSocket","window","location","hostname","onopen","onclose","onmessage","e","JSON","parse","close","devices","Object","entries","online","filter","_","d","status","length","children","style","display","alignItems","gap","marginBottom","margin","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","padding","borderRadius","background","color","marginLeft","gridTemplateColumns","map","name","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/ODOO/Documents/ODOO 19/modbus_gateway/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DeviceCard from './DeviceCard';\n\nfunction Dashboard() {\n  const [data, setData] = useState({});\n  const [connected, setConnected] = useState(false);\n\n  useEffect(() => {\n    const ws = new WebSocket(`ws://${window.location.hostname}:8000/api/ws`);\n    ws.onopen = () => setConnected(true);\n    ws.onclose = () => setConnected(false);\n    ws.onmessage = (e) => setData(JSON.parse(e.data));\n    return () => ws.close();\n  }, []);\n\n  const devices = Object.entries(data);\n  const online = devices.filter(([_, d]) => d.status === 'online').length;\n\n  return (\n    <div>\n      <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '1rem' }}>\n        <h2 style={{ margin: 0, fontSize: '1.5rem' }}>Dashboard</h2>\n        <span style={{ padding: '0.3rem 0.6rem', borderRadius: '12px', fontSize: '0.8rem', background: connected ? '#10b981' : '#ef4444', color: 'white' }}>\n          {connected ? '● Connected' : '● Disconnected'}\n        </span>\n        <span style={{ marginLeft: 'auto', color: '#94a3b8' }}>Total: {devices.length} | Online: {online} | Offline: {devices.length - online}</span>\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '1rem' }}>\n        {devices.map(([name, d]) => <DeviceCard key={name} name={name} data={d} />)}\n      </div>\n      {devices.length === 0 && <p style={{ color: '#94a3b8', textAlign: 'center' }}>No devices configured</p>}\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}